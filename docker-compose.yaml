version: '3.1'

services:
    wp_php:
        build:
            network: host
            context: .
            dockerfile: Dockerfile
        ports:
            - '5555:80'
        volumes:
            - ./wordpress:/var/www/html

        # nom de serveur = wp_db
    wp_db: 
        image: 'mariadb'
        restart: always
        build:
            network: host
            context: .
            dockerfile: Dockerfile
        environment: 
        # user= root
            MYSQL_DATABASE: data
            MYSQL_ROOT_PASSWORD: pass
        volumes:
            - ./data.sql:/docker-entrypoint-initdb.d/dump.sql

    wp_pma:
        image: phpmyadmin
        build:
            network: host
            context: .
            dockerfile: Dockerfile
        restart: always
        ports:
            - '8080:80'
        environment:
            - PMA_ARBITRARY=1
